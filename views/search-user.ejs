<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Search</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body
    class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white min-h-screen flex flex-col items-center p-4 sm:p-8">

    <!-- Navbar / Top Section -->
    <div class="w-full max-w-6xl flex flex-col sm:flex-row justify-between items-center mb-8 sm:mb-12 gap-4 sm:gap-0">
        <h1
            class="text-3xl sm:text-4xl font-extrabold tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 text-center sm:text-left">
            Search Users
        </h1>

        <!-- Profile Button -->
        <a href="/profile"
            class="bg-gradient-to-r from-blue-500 to-purple-600 px-5 py-2 rounded-xl font-semibold text-sm shadow-lg hover:from-blue-600 hover:to-purple-700 transition">
            My Profile
        </a>
    </div>

    <!-- Search Form -->
    <form action="/search/user" method="POST" class="mb-8 flex flex-col sm:flex-row gap-3 w-full max-w-lg">
        <input type="text" name="username" placeholder="Enter username" required
            class="flex-1 px-4 py-3 rounded-xl bg-zinc-800 text-white placeholder-gray-400 border border-zinc-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 outline-none transition text-sm sm:text-base" />
        <button type="submit"
            class="bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 shadow-lg transition text-sm sm:text-base">
            Search
        </button>
    </form>

    <!-- Display Message if No Results -->
    <% if (typeof message !=='undefined' ) { %>
        <p class="text-red-400 text-base sm:text-lg font-medium mb-6 text-center">
            <%= message %>
        </p>
        <% } %>

            <!-- Display Users -->
            <% if (typeof users !=='undefined' && users.length> 0) { %>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 w-full max-w-5xl">
                    <% users.forEach(user=> { %>
                        <div
                            class="relative bg-zinc-900 p-4 sm:p-6 rounded-2xl border border-transparent hover:border-blue-500/70 shadow-md hover:shadow-blue-500/40 transition-transform hover:scale-105 duration-300">

                            <!-- Glow Border -->
                            <div
                                class="absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-20 blur-2xl -z-10">
                            </div>

                            <!-- Avatar + Username -->
                            <div class="flex items-center space-x-4">
                                <% if (user.avatar) { %>
                                    <img src="<%= user.avatar %>" alt="Avatar"
                                        class="w-12 h-12 rounded-full object-cover border border-zinc-700">
                                    <% } else { %>
                                        <div
                                            class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-lg font-bold">
                                            <%= user.username.charAt(0).toUpperCase() %>
                                        </div>
                                        <% } %>

                                            <div>
                                                <a href="/user/<%= user.username %>"
                                                    class="block text-lg sm:text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 hover:from-blue-300 hover:to-purple-400 transition">
                                                    <%= user.username %>
                                                </a>
                                                <% if (user.email) { %>
                                                    <p class="text-gray-400 text-sm sm:text-base">
                                                        <%= user.email %>
                                                    </p>
                                                    <% } %>
                                            </div>
                            </div>
                        </div>
                        <% }) %>
                </div>
                <% } %>

</body>

</html>